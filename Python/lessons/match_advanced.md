## Выражение match

В версии python 3.10 появилось новое выражение - match. Это важно т.к. дополнение новое, а значит не везде доступно. 

Давайте на него посмотрим.

Рассмотрим простую программу-калькулятор, вроде бы ничего такого, но у нас образовался шаблон - стена условий. В нашем случае это ничему не мешает, но было бы хорошо, если бы вышло компактнее


```python
a = int(input('Введите число: '))
b = int(input('Введите число: '))
operation = input('сложить, вычесть, умножить, разделить? ')

if operation == 'сложить':
    print(a + b)
elif operation == 'вычесть':
    print(a - b)
elif operation == 'умножить':
    print(a * b)
elif operation == 'разделить':
    if b == 0:
        print('Ошибка')
    else: 
        print(a / b)
else:
    print('нет такой операции')
```


```python
# Выражение match создано для сопоставления значений шаблону

a = int(input('Введите число: '))
b = int(input('Введите число: '))
operation = input('сложить, вычесть, умножить, разделить? ')

match operation: # match (значение для сопоставления)
    case 'сложить':
        print(a + b)
    case 'вычесть': # case (шаблон сопоставления)
        print(a - b)
    case 'умножить':
        print(a * b)
    case 'разделить':
        if b == 0:
            print('Ошибка')
        else: 
            print(a / b)
    case _: # стандартная ветвь, работает, как общий else 
        print('нет такой операции')
```

    5
    

Возможностей применения много, синтаксис крайне богатый, а код удобно читать


```python
a = int(input())

match a:
    case 1:
        print('в поле не воин')
    case 2 | 3: # один или другой шаблон
        print('так-то тоже мало')
    case 4 | 5 | 6 | 7:
        print('многовато лишнего')
    case _:
        print('рать')
```

    в поле не воин
    


```python
# Несложно заметить, что для проверок тех же числел сопоставление оказывается многословным
# К тому же легко оставить опечатку
# Вот аналогичный код, но с использованием if/else 

a = int(input())

if a == 1:
    print('в поле не воин')
elif a <= 3:
    print('так-то тоже мало')
elif a <= 7:
    print('достаточно просто')
else:
    print('рать')
```

    достаточно просто
    

## Продвинутое применение
Вся сила match в продвинутых возможностях 


```python
names = input('Введите имена, через пробел: ').split() # создаём список имён, отделяя по пробелу

match names:
    case 'Владимир': # простое сопоставление
        print('Владеет миром ВладимИр ...')

    case [x] if int(x) > 100: # сопоставление с проверкой, шаблон-список (из одного значения)
        print('Это конечно не имя, но число большле - сойдёт!')

    case x, 'Тамара': # шаблон-пара: первый, мы его запомним, и Тамара потом
        print("Меня зовут", x)
        print('Мы с Тамарой ходим парой: сначала я, затем Тамара')

    case 'Тамара', x: # наоборот
        print("Меня зовут", x)
        print('Мы с Тамарой ходим парой: сначала Тамара, за ней я')

    case x, y: # шаблон-пара: главное что двое, значения связываются с временными переменными
        print("нас два друга: ", x, y)

    case x, y, z: # итд...
        print(x, y, z, '- все мы друзья')

    case ['Ленин', *friends]: # шаблон-список: здесь *friends означает, что всё остальное засунуть в спислк friends
        print(len(friends), "друзей Ленина") # сработает от четырёх имён т.к меньше поймают прошлые проверки

    case []: # шаблон-список: пусто
        print('Ку-ку')

    case _: # стандартный случай
        print("Мы делили апельсин, много нас, а он один!")
```

    Меня зовут Данила
    Мы с Тамарой ходим парой: сначала я, затем Тамара
    
